<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>leetcode 908 Smallest Range I 刷题笔记</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="favicon.ico">
    
    
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?04a176dece699ead462bf191872e2da6";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
	
	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.noteanddata.com">笔记和数据</a>
        </div>
      </div>
    </div>
    <div class="container">	<div class="row">
		<div class="col-sm-8">

			<div class="page-header">
				<h1>leetcode 908 Smallest Range I 刷题笔记</h1>
			</div>

			<p><em>29 September 2018</em></p>

			<p><h2><a href="#题目-leetcode-908-smallest-range-i" id="题目-leetcode-908-smallest-range-i">题目 Leetcode 908 Smallest Range I</a></h2> 
<p>链接: <a href="https://leetcode.com/problems/smallest-range-i/">https://leetcode.com/problems/smallest-range-i/</a><br> Given an array A of integers, for each integer A[i] we may choose any x with -K &lt;= x &lt;= K, and add x to A[i].<br> After this process, we have some array B.<br> Return the smallest possible difference between the maximum value of B and the minimum value of B.</p> 
<p>输入一个整数数组a和一个整数K，对于数组中的每个数a[i], 可以把a[i]变换成[a[i]-K, a[i]+K]之间的任何一个数, 就这个新数组的max-min的最小值</p> 
<h2><a href="#题目理解和分析" id="题目理解和分析">题目理解和分析</a></h2> 
<p>a. 假设max-min&lt;= 2 * K, 那么结果就是0， 因为所有的值都可以调整到一个相同的中间值。可以想象一些数分布在最大值和最小值之间, 然后<br> 所有的数都可以往中间移动&lt;=K个位置，然后所有数就一样了。</p> 
<p>b. 如果最大值和最小值的差&gt; 2 * K, 那么结果就是 (max-min-2 * K)。</p> 
<h2><a href="#代码" id="代码">代码</a></h2> 
<pre><code>public int smallestRangeI(int[] a, int K) {
  int min = a[0], max = a[0];
  for(int i = 0; i &lt; a.length; ++i) {
    min = Math.min(min, a[i]);
    max = Math.max(max, a[i]);
  }
  return Math.max(0, max - min - 2 * K);
}

</code></pre> 
<h2><a href="#复杂度分析" id="复杂度分析">复杂度分析</a></h2> 
<h3><a href="#时间复杂度" id="时间复杂度">时间复杂度</a></h3> 
<p>数组只遍历一次， 时间复杂度是O(N)</p> 
<h3><a href="#空间复杂度" id="空间复杂度">空间复杂度</a></h3> 
<p>只需要保存一个max和min，空间复杂度是O(1)</p> 
<h2><a href="#详细证明" id="详细证明">详细证明</a></h2> 
<p>这是一个简单题，对于两种情况通常可以直觉逻辑判断，当然也可以严格的证明一下。<br> a. max-min&lt;= 2 * K的情况<br> 证明： 设置中间值为middle=min+K,<br> 1） if a[i] &lt;= middle , 因为middle-a[i] &lt;= middle-min, 所以middle-a[i] &lt;= K, 所有比middle小的数都可以转换成middle<br> 2） if a[i] &gt; middle, 因为 a[i] - middle &lt;= max - middle, 而a[i] - middle &lt;= max-min-K, 因为max-min &lt;= 2 * K, 所以a[i]-middle &lt;= K, 所有比middle大的数都可以转换成middle<br> 所以，整个数组中的数字都可以调整到中间值min+K</p> 
<p>b. max-min &gt; 2 * K的情况<br> 证明：<br> 1) 首先对于最大值和最小值，这个最小差一定是max-min-2<em>K, 对应操作就是min–&gt; min+K, max–&gt; max-K, 这时候diff=max-min-2</em>K.<br> 这个可以用反证法，<br> 如果min的操作不选择min+K, 那么不管选择哪个在[-K, K]之间的数, 新的值一定小于min+K<br> 如果max的操作不选择max-K, 那么不管选择哪个在[-K, K]之间的数，新的值一定大于max-K,<br> 那么diff一定大于(max-K) - (min+K), 也就是max-min-2<em>K,<br> 所以对于min和max来说， 一定是选择min-&gt;min+K, max-&gt;max-K是最佳操作<br> 2) 对于其他的a[i], 有a[i] &gt;= min &amp;&amp; a[i] &lt;= max, 可以证明, 经过操作后的 a[i]+K &gt;= min+K &amp;&amp; a[i]-K &lt;= max-K<br> 如果a[i] &lt; min+K, 我们可以调整a[i]–&gt;min+K, 因为min-a[i] &lt;= 0, 所以min+K-a[i] &lt;=K, 所以a[i]–&gt;min+K是可行的<br> 如果a[i] &gt;= min+K, 这又分两种情况,<br> 2.1） 如果a[i] &lt;= min+2</em>K, 那么因为a[i]-(min+K) &lt;= K, 所以a[i]可以向下调整到min+K<br> 2.2） 如果a[i] &gt; min+2*K, 操作就选择a[i]–&gt;a[i]-K, 所以有a[i]-K&gt; min+K， 然后又因为a[i] &lt;= max, 所以a[i]-K &lt;= max-K</p> 
<p>所以，这样就证明了对于max-min &gt; 2 * K 的情况，调整后的最佳结果就是max-min - 2 * K</p></p>
	</div>		

<div class="col-sm-4">
  <div>
    <div >
      扫一扫关注微信公众号
    </div>
    <div>
      <img src="images/qrcode_noteanddata_258.jpg"></img>
    </div>
  </div>
  <div>
    <div >
      推荐服务器
    </div>
    <div>
      <a href="link.html?link=linode" target="_blank">Linode</a>
    </div>
    
  </div>
</div>
</div>	

	<hr />
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">

      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/prettify.js"></script>
    
  </body>
</html>